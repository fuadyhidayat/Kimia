@page "/elements/table"

@using Models

@inject HttpClient httpClient

<Title Text="Elements in a Table"></Title>
<table class="table table-striped table-bordered table-hover">
    <thead class="thead-dark">
        <tr>
            <td>Number</td>
            <td>Name</td>
            <td>Sign</td>
        </tr>
    </thead>
    <tbody>
        @foreach (var element in _elements)
        {
            <tr>
                <td>@element.Number</td>
                <td>@element.Name</td>
                <td>@element.Sign</td>
            </tr>
        }
    </tbody>
</table>

@code {
    private List<ElementData> _elements = new List<ElementData>();

    protected override async Task OnInitializedAsync()
    {
        var response = await httpClient.GetFromJsonAsync<List<ElementData>>("https://localhost:44371/elements");

        if (response is not null)
        {
            _elements = response;
        }
    }
}
